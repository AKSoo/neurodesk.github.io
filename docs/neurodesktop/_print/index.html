<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.88.1"><link rel=canonical type=text/html href=https://neurodesk.github.io/docs/neurodesktop/>
<link rel=alternate type=application/rss+xml href=https://neurodesk.github.io/docs/neurodesktop/index.xml>
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>Neurodesktop | NeuroDesk</title>
<meta name=description content="The plug-and-play, browser-accessible, containerised data analysis environment.
">
<meta property="og:title" content="Neurodesktop">
<meta property="og:description" content="The plug-and-play, browser-accessible, containerised data analysis environment.
">
<meta property="og:type" content="website">
<meta property="og:url" content="https://neurodesk.github.io/docs/neurodesktop/"><meta property="og:site_name" content="NeuroDesk">
<meta itemprop=name content="Neurodesktop">
<meta itemprop=description content="The plug-and-play, browser-accessible, containerised data analysis environment.
"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Neurodesktop">
<meta name=twitter:description content="The plug-and-play, browser-accessible, containerised data analysis environment.
">
<link rel=preload href=/scss/main.min.54a6b13de98a6b564f59b9d4cda427d6ae62ab54c015b5b9f5ed167c2da7fdd5.css as=style>
<link href=/scss/main.min.54a6b13de98a6b564f59b9d4cda427d6ae62ab54c015b5b9f5ed167c2da7fdd5.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/>
<span class=navbar-logo></span><span class="text-uppercase font-weight-bold">NeuroDesk</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/docs><i class="fas fa-book"></i><span>Documentation</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=https://github.com/NeuroDesk target=_blank><i class="fab fa-github"></i><span>GitHub</span></a>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
</div>
<div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
</div>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href=/docs/neurodesktop/>Return to the regular view of this page</a>.
</p>
</div>
<h1 class=title>Neurodesktop</h1>
<div class=lead>The plug-and-play, browser-accessible, containerised data analysis environment.</div>
<ul>
<li>1: <a href=#pg-0916fe04e84f6b30644efe9a9fa87a91>Getting Started</a></li>
<ul>
<li>1.1: <a href=#pg-c9662bb32400ec6828eed53f31cf6555>Linux</a></li>
<li>1.2: <a href=#pg-b38c91c080a0eb8d1b287cce61a2913d>MacOS</a></li>
<li>1.3: <a href=#pg-87642ad7e9eab5f4f32e180883213db4>Windows</a></li>
<li>1.4: <a href=#pg-f18fe8cf2e51f4592753190891413c14>HPC</a></li>
<li>1.5: <a href=#pg-2cb39ae1fe927afd991445cce7b9f813>Cloud</a></li>
<li>1.6: <a href=#pg-784674433df25a8a2fea1ab0994fd949>Demo</a></li>
</ul>
<li>2: <a href=#pg-a1abf9b90f3887a0021426829e383df4>What's next?</a></li>
<li>3: <a href=#pg-3aab88ee1e48cad88e2180be3e99a33b>What's in the box?</a></li>
<li>4: <a href=#pg-33caca0878e307c0e84289213e7d7ee2>Storage</a></li>
<li>5: <a href=#pg-71c9f282478b9d11471d083fb454cfd4>Troubleshooting</a></li>
<li>6: <a href=#pg-6fcc3ae2c99b700109cf4d44a0a17071>Release History</a></li>
</ul>
<div class=content>
</div>
</div>
<div class=td-content>
<h1 id=pg-0916fe04e84f6b30644efe9a9fa87a91>1 - Getting Started</h1>
<div class=lead>Select your operating system to get started with neurodesktop.</div>
</div>
<div class=td-content>
<h1 id=pg-c9662bb32400ec6828eed53f31cf6555>1.1 - Linux</h1>
<div class=lead>Install neurodesktop on Linux</div>
<h2 id=minimum-system-requirements>Minimum System Requirements</h2>
<ol>
<li>At least 3GB free space for neurodesktop base image</li>
<li>Docker requirements. Details found under <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></li>
</ol>
<h2 id=quickstart>Quickstart</h2>
<ol>
<li>Install Docker from here: <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></li>
</ol>
<p>one example to install docker in a yum-based distribution could look like this:</p>
<pre tabindex=0><code>sudo dnf install -y yum-utils 
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo dnf install docker-ce docker-ce-cli containerd.io
sudo systemctl enable docker
sudo systemctl start docker
sudo docker version
sudo docker info
sudo groupadd docker
sudo usermod -aG docker $USER
sudo chown root:docker /var/run/docker.sock
newgrp docker
</code></pre><ol start=2>
<li>
<p>Create a local folder where the downloaded applications will be stored, e.g. ~/neurodesktop</p>
</li>
<li>
<p>Open a terminal, and type the folowing command to automatically download the neurodesktop container and run it (Mac, Windows, Linux commands listed below)</p>
</li>
</ol>
<pre tabindex=0><code>sudo docker run --shm-size=1gb -it --privileged --name neurodesktop -v ~/neurodesktop:/neurodesktop -e USER=user -p 8080:8080 vnmd/neurodesktop:20210916
</code></pre><p>(notice: if you get errors in neurodesktop then check if the ~/neurodesktop directory is writable to all users, otherwise run <code>chmod a+rwx ~/neurodesktop</code>)</p>
<ol start=4>
<li>Once neurodesktop is downloaded i.e. <code>guacd[77]: INFO: Listening on host 127.0.0.1, port 4822</code> is displayed in terminal, open a browser and go to:</li>
</ol>
<pre tabindex=0><code>http://localhost:8080/#/?username=user&amp;password=password
</code></pre><p>or open a VNC Client and connect to port 5901 (for this -p 5901:5901 has to be added to the docker call)</p>
<ol start=5>
<li>neurodesktop is ready to use!</li>
</ol>
<ul>
<li>User is <code>user</code></li>
<li>Password is <code>password</code></li>
</ul>
<h2 id=stopping-neurodesktop>Stopping neurodesktop:</h2>
<p>When done processing your data it is important to stop and remove the container - otherwise the next start or container update will give an error ("&mldr; The container name &ldquo;/neurodesktop&rdquo; is already in use&mldr;")</p>
<ol>
<li>
<p>Click on the terminal from which you ran neurodesktop</p>
</li>
<li>
<p>Press control-C</p>
</li>
<li>
<p>Type:</p>
</li>
</ol>
<pre tabindex=0><code>docker stop neurodesktop
</code></pre><ol start=4>
<li>Type:</li>
</ol>
<pre tabindex=0><code>docker rm neurodesktop
</code></pre>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b38c91c080a0eb8d1b287cce61a2913d>1.2 - MacOS</h1>
<div class=lead>Install neurodesktop on MacOS</div>
<h2 id=minimum-system-requirements>Minimum System Requirements</h2>
<ol>
<li>At least 3GB free space for neurodesktop base image</li>
<li>Docker requirements. Details found under <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></li>
</ol>
<h2 id=quickstart>Quickstart</h2>
<ol>
<li>
<p>Install Docker from here: <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></p>
</li>
<li>
<p>Create a local folder where the downloaded applications will be stored, e.g. ~/neurodesktop</p>
</li>
<li>
<p>Open a terminal, and type the folowing command to automatically download the neurodesktop container and run it</p>
</li>
</ol>
<pre tabindex=0><code>docker run --shm-size=1gb -it --privileged --name neurodesktop -v ~/neurodesktop:/neurodesktop -e USER=user -p 8080:8080 vnmd/neurodesktop:20210916
</code></pre><p>(notice: There is a bug in docker 3.3.0 for Mac that makes this command not run correctly and there will be no application menu when you start the desktop. Update your docker version when you see this!)</p>
<p>if you get errors in neurodesktop then check if the ~/neurodesktop directory is writable to all users, otherwise run <code>chmod a+rwx ~/neurodesktop</code></p>
<ol start=4>
<li>Once neurodesktop is downloaded i.e. <code>guacd[77]: INFO: Listening on host 127.0.0.1, port 4822</code> is displayed in terminal, open a browser and go to:</li>
</ol>
<pre tabindex=0><code>http://localhost:8080/#/?username=user&amp;password=password
</code></pre><p>or open a VNC Client and connect to port 5901 (for this -p 5901:5901 has to be added to the docker call)</p>
<ol start=5>
<li>neurodesktop is ready to use!</li>
</ol>
<ul>
<li>User is <code>user</code></li>
<li>Password is <code>password</code></li>
</ul>
<h2 id=stopping-neurodesktop>Stopping neurodesktop:</h2>
<p>When done processing your data it is important to stop and remove the container - otherwise the next start or container update will give an error ("&mldr; The container name &ldquo;/neurodesktop&rdquo; is already in use&mldr;")</p>
<ol>
<li>
<p>Click on the terminal from which you ran neurodesktop</p>
</li>
<li>
<p>Press control-C</p>
</li>
<li>
<p>Type:</p>
</li>
</ol>
<pre tabindex=0><code>docker stop neurodesktop
</code></pre><ol start=4>
<li>Type:</li>
</ol>
<pre tabindex=0><code>docker rm neurodesktop
</code></pre>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-87642ad7e9eab5f4f32e180883213db4>1.3 - Windows</h1>
<div class=lead>Install neurodesktop on Windows</div>
<h2 id=minimum-system-requirements>Minimum System Requirements</h2>
<ol>
<li>At least 3GB free space for neurodesktop base image</li>
<li>Docker requirements. Details found under <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></li>
<li>If installing docker using WSL, atleast 20GB space recommended for WSL with Ubuntu</li>
</ol>
<h2 id=quickstart>Quickstart</h2>
<ol>
<li>
<p>Install Docker from here: <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></p>
</li>
<li>
<p>Create a local folder where the downloaded applications will be stored, e.g. C:\neurodesktop</p>
</li>
<li>
<p>Open a terminal, and type the folowing command to automatically download the neurodesktop container and run it</p>
</li>
</ol>
<pre tabindex=0><code>docker run --shm-size=1gb -it --privileged --name neurodesktop -v C:/neurodesktop:/neurodesktop -e USER=user -p 8080:8080 vnmd/neurodesktop:20210916
</code></pre><ol start=4>
<li>Once neurodesktop is downloaded i.e. <code>guacd[77]: INFO: Listening on host 127.0.0.1, port 4822</code> is displayed in terminal, open a browser and go to:</li>
</ol>
<pre tabindex=0><code>http://localhost:8080/#/?username=user&amp;password=password
</code></pre><p>or open a VNC Client and connect to port 5901 (for this -p 5901:5901 has to be added to the docker call)</p>
<ol start=5>
<li>neurodesktop is ready to use!</li>
</ol>
<ul>
<li>User is <code>user</code></li>
<li>Password is <code>password</code></li>
</ul>
<h2 id=stopping-neurodesktop>Stopping neurodesktop:</h2>
<p>When done processing your data it is important to stop and remove the container - otherwise the next start or container update will give an error ("&mldr; The container name &ldquo;/neurodesktop&rdquo; is already in use&mldr;")</p>
<ol>
<li>
<p>Click on the terminal from which you ran neurodesktop</p>
</li>
<li>
<p>Press control-C</p>
</li>
<li>
<p>Type:</p>
</li>
</ol>
<pre tabindex=0><code>docker stop neurodesktop
</code></pre><ol start=4>
<li>Type:</li>
</ol>
<pre tabindex=0><code>docker rm neurodesktop
</code></pre>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f18fe8cf2e51f4592753190891413c14>1.4 - HPC</h1>
<div class=lead>Run neurodesktop in a high performance computing environment</div>
<p>One way of running this project on HPCs is via <a href=https://neurodesk.github.io/docs/neurocommand/getting-started/linux/>https://neurodesk.github.io/docs/neurocommand/getting-started/linux/</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2cb39ae1fe927afd991445cce7b9f813>1.5 - Cloud</h1>
<div class=lead>Run neurodesktop using Oracle or Azure cloud computing</div>
<h2 id=minimum-system-requirements>Minimum System Requirements</h2>
<ol>
<li>At least 3GB free space for neurodesktop base image</li>
<li>Docker requirements. Details found under <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></li>
</ol>
<h2 id=quickstart>Quickstart</h2>
<ol>
<li>Open an SSH connection to your cloud instance with port forwarding</li>
</ol>
<pre tabindex=0><code>ssh -L 8080:127.0.0.1:8080 opc@133.71.33.71
</code></pre><ol start=2>
<li>Install Docker from here: <a href=https://docs.docker.com/get-docker/>https://docs.docker.com/get-docker/</a></li>
</ol>
<p>one example to install docker in a yum-based distribution could look like this:</p>
<pre tabindex=0><code>sudo dnf install -y yum-utils 
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo dnf install docker-ce docker-ce-cli containerd.io
sudo systemctl enable docker
sudo systemctl start docker
sudo docker version
sudo docker info
sudo groupadd docker
sudo usermod -aG docker $USER
sudo chown root:docker /var/run/docker.sock
newgrp docker
</code></pre><ol start=3>
<li>
<p>Create a local folder where the downloaded applications will be stored, e.g. ~/neurodesktop</p>
</li>
<li>
<p>Open a terminal, and type the folowing command to automatically download the neurodesktop container and run it (Mac, Windows, Linux commands listed below)</p>
</li>
</ol>
<pre tabindex=0><code>sudo docker run --shm-size=1gb -it --privileged --name neurodesktop -v ~/neurodesktop:/neurodesktop -e USER=user -p 8080:8080 vnmd/neurodesktop:20210916
</code></pre><p>(notice: if you get errors in neurodesktop then check if the ~/neurodesktop directory is writable to all users, otherwise run <code>chmod a+rwx ~/neurodesktop</code>)</p>
<ol start=5>
<li>Once neurodesktop is downloaded i.e. <code>guacd[77]: INFO: Listening on host 127.0.0.1, port 4822</code> is displayed in terminal, open a browser and go to:</li>
</ol>
<pre tabindex=0><code>http://localhost:8080/#/?username=user&amp;password=password
</code></pre><p>or open a VNC Client and connect to port 5901 (for this -p 5901:5901 has to be added to the docker call)</p>
<ol start=6>
<li>neurodesktop is ready to use!</li>
</ol>
<ul>
<li>User is <code>user</code></li>
<li>Password is <code>password</code></li>
</ul>
<h2 id=stopping-neurodesktop>Stopping neurodesktop:</h2>
<p>When done processing your data it is important to stop and remove the container - otherwise the next start or container update will give an error ("&mldr; The container name &ldquo;/neurodesktop&rdquo; is already in use&mldr;")</p>
<ol>
<li>
<p>Click on the terminal from which you ran neurodesktop</p>
</li>
<li>
<p>Press control-C</p>
</li>
<li>
<p>Type:</p>
</li>
</ol>
<pre tabindex=0><code>docker stop neurodesktop
</code></pre><ol start=4>
<li>Type:</li>
</ol>
<pre tabindex=0><code>docker rm neurodesktop
</code></pre><h2 id=cloud-provider-specific-tutorials>Cloud-provider specific Tutorials</h2>
<table>
<thead>
<tr>
<th>Cloud provider</th>
<th>link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Oracle</td>
<td><a href=https://mri.sbollmann.net/index.php/2020/12/08/run-neurodesk-on-oracle-cloud-free-tier/>https://mri.sbollmann.net/index.php/2020/12/08/run-neurodesk-on-oracle-cloud-free-tier/</a></td>
</tr>
<tr>
<td>Azure</td>
<td><a href=https://henryjburg.medium.com/neurodesk-running-on-azure-3e38c590a152>https://henryjburg.medium.com/neurodesk-running-on-azure-3e38c590a152</a></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-784674433df25a8a2fea1ab0994fd949>1.6 - Demo</h1>
<div class=lead>Run a demo of neurodesktop <em>without</em> installing Docker</div>
<div class="pageinfo pageinfo-primary">
<p>This page needs to link to MyBinder demo</p>
</div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a1abf9b90f3887a0021426829e383df4>2 - What's next?</h1>
<div class=lead>Congratulations! You&rsquo;ve installed Neurodesktop. What happens next?</div>
<p>Now that you’ve installed and launched neurodesktop, you should see a virtual desktop environment in your browser, which might look something like this:</p>
<p><img src=/Desktop.png alt=desktop title=desktop></p>
<p>In this linux desktop environment, you can access the menu, launch programs, write analysis code, use version control software (i.e. git) and develop analysis pipelines as though you were on your own computer.</p>
<h2 id=release>Release</h2>
<p>Keep a note of the release date of the container image that you installed. Regardless of what operating system you installed neurodesktop into, the release date would have been at the end of the <em>docker run</em> command:</p>
<p><img src=/version.png alt=version title=version></p>
<p>We regularly update neurodesktop to make sure it’s running well and has up-to-date software. You can check the <a href=https://neurodesk.github.io/docs/neurodesktop/release-history/>Release History</a> page for details of previous releases. If you’d like to update your container at any time, simply switch out the release number for the version you would like. If you’ve finished working on an analysis pipeline and would like to share it with others, you can point them toward the stable release number that you worked in. That way anyone, on any computer around the world can replicate your analysis pipeline in the exact same computing environment that you developed it in.</p>
<h2 id=video-tutorial>Video tutorial</h2>
<p>Click <a href="https://www.youtube.com/watch?v=JLv_5fycugw">here</a> to watch a 2 minute tutorial video from OHBM 2021</p>
<h2 id=how-to-access-files-from-your-host-computer>How to access files from your Host computer</h2>
<p>There are various ways of connecting your data to to Neurodesktop. For more information see our Storage section: <a href=/docs/neurodesktop/storage>Storage</a></p>
<h2 id=how-to-launch-applications>How to launch applications</h2>
<p>Click on the Launcher icon in bottom-left corner and navigate to the &ldquo;Neurodesk&rdquo; menu, then select the application and version you wish to launch. If it is the first time you launch the application, it will be downloaded to your desktop environment. The application is ready to use when the &ldquo;Singularity>&rdquo; prompt appears in the terminal window that opens. If you chose in the menu the GUI of the application (e.g., fsleyesGUI 6.0.3), it will open automatically. If you chose that application itself (e.g., fsl 6.0.3), a terminal window will open, and you can use it to run any of the utilities packaged with the application, including the graphical utilities (e.g., typing &ldquo;fsl&rdquo; to run FSL&rsquo;s main menu).</p>
<h2 id=how-to-force-a-complete-container-download-to-your-system>How to force a complete container download to your system</h2>
<p>To increase speed and reliability of Neurodesktop we mount the application containers from a CVMFS mount and download only the files required to run your current task. Although we aim to keep everything on there reproducible, there might be a reason that you want to fully download the containers to your system. You can force this behaviour by adding another parameter to the docker call: <code>-e CVMFS_DISABLE=true</code></p>
<p>For windows an example would look like this:</p>
<pre tabindex=0><code>docker run --shm-size=1gb -it --privileged --name neurodesktop -v C:/neurodesktop:/neurodesktop -e USER=user -e CVMFS_DISABLE=true -p 8080:8080 neurodesktop:20210916
</code></pre>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3aab88ee1e48cad88e2180be3e99a33b>3 - What's in the box?</h1>
<div class=lead>The software available in neurodesktop</div>
<p>Neurodesktop comes with the essential software required for neuroimaging data analysis pre-installed. Each release is built with the most recent version of these packages available at the build date. Some example packages include:</p>
<ul>
<li>Editors and Programming:
<ul>
<li>Visual Studio Code</li>
<li>Emacs</li>
<li>Gedit</li>
<li>Vim</li>
<li>Python</li>
<li>Git</li>
</ul>
</li>
<li>Workflow systems:
<ul>
<li>Nipype (including GraphVis)</li>
</ul>
</li>
<li>Data Syncronisation tools: (See our Storage section for more information: <a href=/docs/neurodesktop/storage>Storage</a>)
<ul>
<li>Rsync</li>
<li>Rclone <a href=https://rclone.org/>https://rclone.org/</a></li>
<li>Nextcloud client</li>
<li>Owncloud client</li>
<li>Globus personal connect <a href=https://docs.globus.org/how-to/globus-connect-personal-linux/>https://docs.globus.org/how-to/globus-connect-personal-linux/</a>
<ul>
<li>installed in /opt/globusconnectpersonal/</li>
</ul>
</li>
</ul>
</li>
<li>System Management:
<ul>
<li>Lmod (inlcuding Lua)</li>
<li>Singularity</li>
<li>Htop</li>
</ul>
</li>
<li>Misc
<ul>
<li>Imagemagic</li>
<li>Firefox</li>
<li>OpenSSH client</li>
</ul>
</li>
</ul>
<p>The neurodesktop environment is built to be light and fast to download and start-up. Most additional programs are therefore downloaded when they are first used. A list of these additional packages can be found <a href=https://github.com/NeuroDesk/neurodesk/blob/master/cvmfs/log.txt>here</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-33caca0878e307c0e84289213e7d7ee2>4 - Storage</h1>
<div class=lead>Add storage to Neurodesktop</div>
<h2 id=cloud-storage>Cloud-storage</h2>
<p>The easiest way to get your data into Neurodesktop is to use a cloud storage provider like CloudStor, Dropbox, OneDrive and their sync tools like OwnCloud, Nextcloud or very flexible tools like rclone. Another good option could be to utilize Globus for large amounts of data.</p>
<h3 id=nextcloud-and-owncloud-desktop-clients>Nextcloud and Owncloud desktop clients</h3>
<p>Under the menu item &ldquo;Accessories&rdquo; you can find &ldquo;Nextcloud&rdquo; and &ldquo;ownCloud&rdquo; desktop sync clients that you can configure with your cloud service accounts.</p>
<h3 id=rclone>Rclone</h3>
<p>Rclone is a command line tool that enables the interaction with various cloud services. Here is an example how to setup rclone with CloudStor Aarnet:</p>
<ul>
<li>start the configuration in a terminal window <code>rclone config</code></li>
<li>Create a new remote: <code>n</code></li>
<li>Provide a name for the remote: <code>CloudStor</code></li>
<li>For the “Storage” option choose: <code>webdav</code></li>
<li>As “url” set: <code>https://cloudstor.aarnet.edu.au/plus/remote.php/webdav/</code></li>
<li>As “vendor” set OwnCloud: <code>2</code></li>
<li>Set your CloudStor username after generating an access token <a href="https://cloudstor.aarnet.edu.au/plus/settings/personal?sectionid=security">https://cloudstor.aarnet.edu.au/plus/settings/personal?sectionid=security</a></li>
<li>Choose to type in your own password: y</li>
<li>Enter the Password / Token from the CloudStor App passwords page and confirm it again:</li>
<li>Leave blank the bearer_token: <code>&lt;hit Enter></code></li>
<li>No advanced config necessary: <code>&lt;hit Enter></code></li>
<li>accept the configuration: <code>&lt;hit Enter></code></li>
<li>Quit the config: <code>q</code></li>
<li>Now we can download data to the HPC easily: <code>rclone copy --progress --transfers 8 CloudStor:/raw-data-for-science-paper .</code></li>
<li>or upload data to CloudStor: <code>rclone copy --progress --transfers 8 . CloudStor:/data-processed</code></li>
</ul>
<h3 id=globus>Globus</h3>
<p>We also provide the globus client, so you can transfer large amounts of data between globus endpoints and Neurodesk. You can configure it by running:</p>
<pre tabindex=0><code>/opt/globusconnectpersonal/globusconnectpersonal-*/globusconnectpersonal
</code></pre><h2 id=mounting-network-storage-on-your-host-computer>Mounting network storage on your host-computer</h2>
<p>The -v C:/neurodesk:/neurodesk part of the docker command links the directory “neurodesk” on the “C drive” of your Windows computer to the directory /neurodesk inside the Desktop environment. Everything you store in there will be available inside neurodesk and on the host computer. You can also mount additional directories by adding another -v parameter set (e.g. -v D:/moredata:/data) - this will mount the directory moredata from your D drive to /data inside neurodesktop. If you have network storage mounted in a similar way you can also pass this into the Neurodesktop tool.</p>
<h2 id=mount-volume-using-sshfs>Mount volume using SSHFS</h2>
<p>It is theoretically possible to mount an SSH target inside Neurodesktop, but it&rsquo;s not a very reliable way of mounting storage:</p>
<pre tabindex=0><code>sshfs -o allow_root USER@TARGET_HOST:TARGET_PATH SOURCE_PATH
</code></pre><p>Another option is to utilize scp and copy data from an SSH endpoint:</p>
<pre tabindex=0><code>scp /neurodesk/myfile user@remoteserver:/data/
</code></pre>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-71c9f282478b9d11471d083fb454cfd4>5 - Troubleshooting</h1>
<div class=lead>Are you experiencing issues with neurodesktop?</div>
<p>Neurodesk is an open-source project that is always evolving. If you are experiencing an issue not listed here, please open a <a href=https://github.com/NeuroDesk/neurodesk.github.io/issues>new issue</a>, so that we can aim to solve it and update our help documentation.</p>
<p>To ask questions or suggest new features, <a href=https://github.com/NeuroDesk/neurodesk.github.io/discussions>join the discussion</a> on github.</p>
<h2 id=windows-users-wsl-not-installed-properly>Windows users: WSL not installed properly</h2>
<p>The Docker engine relies on the Windows subsystem for Linux (<a href=https://docs.microsoft.com/en-us/windows/wsl/install-win10>WSL</a>) to run on a windows machine.</p>
<div class="alert alert-primary" role=alert>
<h4 class=alert-heading>Note</h4>
We recommend the <em>manual</em> install instructions, as the simplified install requires an upgrade to a preview build of Windows that may be unstable.
</div>
<p>If WSL is properly installed, the <em>Resources</em> tab of the Docker settings should look something like this:</p>
<p><img src=/Docker_WSL_correct.png alt=Docker_WSL_correct title=Docker_WSL_correct></p>
<p>However, if WSL is missing or incorrectly configured, the <em>Resources</em> tab of the Docker settings may look something like this:</p>
<p><img src=/Docker_WSL_incorrect.png alt=Docker_WSL_incorrect title=Docker_WSL_incorrect></p>
<p>If this is the case, follow the manual install instructions to install <a href=https://docs.microsoft.com/en-us/windows/wsl/install-win10>WSL 2</a> (including installation of Ubuntu through Microsoft Store).</p>
<h2 id=not-enough-free-space-on-the-partition-in-windows-and-wsl2>Not enough free space on the partition in Windows and WSL2</h2>
<p>This could help: <a href=https://yjmantilla.github.io/tutorials/wsl2-move-vhdx.html>https://yjmantilla.github.io/tutorials/wsl2-move-vhdx.html</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6fcc3ae2c99b700109cf4d44a0a17071>6 - Release History</h1>
<div class=lead>Previous releases of neurodesktop</div>
<h2 id=20210916>20210916</h2>
<ul>
<li>This is the first version of the newly renamed and rebuild neurodesktop (previously vnm and neuromachine)</li>
<li>containers are mounted by default from CVMFS, but this can be deactivated by adding <code>-e CVMFS_DISABLE=true</code> to the docker call</li>
</ul>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label>
<a class=text-white target=_blank rel=noopener href aria-label>
<i></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label>
<a class=text-white target=_blank rel=noopener href aria-label>
<i></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label>
<a class=text-white target=_blank rel=noopener href aria-label>
<i></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label>
<a class=text-white target=_blank rel=noopener href aria-label>
<i></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label>
<a class=text-white target=_blank rel=noopener href aria-label>
<i></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label>
<a class=text-white target=_blank rel=noopener href aria-label>
<i></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.f6e5038a2fe223cb025ddb9e3f0d6e61c17f7ee07173fa91a33f23be1ed1ab52.js integrity="sha256-9uUDii/iI8sCXduePw1uYcF/fuBxc/qRoz8jvh7Rq1I=" crossorigin=anonymous></script>
</body>
</html>